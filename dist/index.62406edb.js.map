{"mappings":"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","sources":["src/js/controller.js"],"sourcesContent":["// const key = \"c15907f1ba854f0bbf648b24dd617f4a\";\r\nconst key = \"0f37eea3915e43e0b7c838c52337ff99\";\r\nconst api_URL = \"https://newsapi.org/v2/\";\r\n\r\nconst newsContainer = document.getElementById(\"newsContainer\");\r\nconst searchInput = document.querySelector(\".search-bar\");\r\nconst paginationContainer = document.querySelector(\".pagination\");\r\n\r\nlet articles = [];\r\nlet currentPage = 1;\r\nconst resultsPerPage = 10;\r\n\r\nconst showNews = async function () {\r\n  try {\r\n    const res = await fetch(`${api_URL}top-headlines?country=us&apiKey=${key}`);\r\n    const data = await res.json();\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n\r\n    if (data.articles && data.articles.length > 0) {\r\n      articles = data.articles.filter(\r\n        (article) => article.title !== \"[Removed]\"\r\n      );\r\n      displayNews(articles, currentPage);\r\n      createPaginationButtons();\r\n    }\r\n  } catch (err) {\r\n    alert(err);\r\n  }\r\n};\r\n\r\nconst searchNews = async function (query) {\r\n  try {\r\n    const res = await fetch(`${api_URL}everything?q=${query}&apiKey=${key}`);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`${data.message} (${res.status})`);\r\n    }\r\n    articles = data.articles.filter(\r\n      (article) =>\r\n        article.title !== \"[Removed]\" &&\r\n        article.content !== null &&\r\n        article.description !== null &&\r\n        article.urlToImage !== null &&\r\n        article.urlToImage !== \"\"\r\n    );\r\n    displayNews(articles, currentPage);\r\n    createPaginationButtons();\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nsearchInput.addEventListener(\"keydown\", function (event) {\r\n  if (event.key === \"Enter\") {\r\n    const query = event.target.value;\r\n    searchNews(query);\r\n  }\r\n});\r\n\r\nconst displayNews = function (articles, page) {\r\n  const start = (page - 1) * resultsPerPage;\r\n  const end = page * resultsPerPage;\r\n  newsContainer.innerHTML = \"\";\r\n\r\n  articles.slice(start, end).forEach((article) => {\r\n    const markup = `\r\n      <article>\r\n        <a href=\"${article.url}\" class=\"news-card\">\r\n          <div class=\"img__box\">\r\n            <img\r\n              class=\"news-image\"\r\n              src=\"${article.urlToImage}\"\r\n              alt=\"${article.title}\"\r\n              title=\"${article.title}\"\r\n            />\r\n          </div>\r\n          <div class=\"news-details\">\r\n            <h2 class=\"news-title\">${article.title}</h2>\r\n            <div class=\"news-description\">${article.content}</div>\r\n            <div class=\"news-date\">${article.publishedAt}</div>\r\n          </div>\r\n        </a>\r\n      </article>\r\n    `;\r\n    newsContainer.insertAdjacentHTML(\"afterbegin\", markup);\r\n  });\r\n};\r\n\r\nconst filterNews = async function (category) {\r\n  try {\r\n    const res = await fetch(\r\n      `${api_URL}top-headlines?country=us&category=${category}&apiKey=${key}`\r\n    );\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`${data.message} (${res.status})`);\r\n    }\r\n    articles = data.articles.filter(\r\n      (article) =>\r\n        article.title !== \"[Removed]\" &&\r\n        article.content !== null &&\r\n        article.description !== null &&\r\n        article.urlToImage !== null &&\r\n        article.urlToImage !== \"\"\r\n    );\r\n    displayCategory(articles, category);\r\n    createPaginationButtons();\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nconst displayCategory = function (articles, category) {\r\n  newsContainer.innerHTML = \"\";\r\n  searchInput.value = \"\";\r\n\r\n  articles.forEach((article) => {\r\n    const markup = `\r\n        <article>\r\n          <a href=\"${article.url}\" class=\"news-card\">\r\n            <div class=\"img__box\">\r\n              <img\r\n                class=\"news-image\"\r\n                src=\"${article.urlToImage}\"\r\n                alt=\"${article.title}\"\r\n                title=\"${article.title}\"\r\n              />\r\n            </div>\r\n            <div class=\"news-details\">\r\n              <div class=\"news-category\">${category}</div>\r\n              <h2 class=\"news-title\">${article.title}</h2>\r\n              <div class=\"news-description\">${article.content}</div>\r\n              <div class=\"news-date\">${article.publishedAt}</div>\r\n            </div>\r\n          </a>\r\n        </article>\r\n      `;\r\n    newsContainer.insertAdjacentHTML(\"afterbegin\", markup);\r\n  });\r\n};\r\n\r\nconst createPaginationButtons = function () {\r\n  const pages = Math.ceil(articles.length / resultsPerPage);\r\n  paginationContainer.innerHTML = \"\";\r\n\r\n  for (let i = 1; i <= pages; i++) {\r\n    const button = document.createElement(\"button\");\r\n    button.type = \"button\";\r\n    button.classList.add(\"pagination-button\");\r\n    button.textContent = i;\r\n\r\n    if (i === currentPage) {\r\n      button.classList.add(\"current\");\r\n    }\r\n\r\n    button.addEventListener(\"click\", function () {\r\n      currentPage = i;\r\n      displayNews(articles, currentPage);\r\n      createPaginationButtons();\r\n    });\r\n\r\n    paginationContainer.appendChild(button);\r\n  }\r\n};\r\n\r\nshowNews();\r\n"],"names":[],"version":3,"file":"index.62406edb.js.map","sourceRoot":"/__parcel_source_root/"}